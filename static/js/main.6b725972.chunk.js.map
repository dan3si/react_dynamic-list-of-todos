{"version":3,"sources":["components/User/User.js","components/Todo/Todo.js","App.js","index.js"],"names":["User","name","username","email","className","Todo","title","completed","user","type","onClick","event","target","classList","toggle","App","useState","todos","setTodos","fetchTodos","a","USERS_URL","Promise","fetch","json","all","then","response","todosFromServer","data","usersFromServer","preparedTodos","map","todo","find","id","userId","filter","length","key","ReactDOM","render","document","getElementById"],"mappings":"iVAIaA,G,YAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,MAAnB,OAClB,yBAAKC,UAAU,QACb,yBAAKA,UAAU,YAAf,IAEGF,EAFH,KAKA,yBAAKE,UAAU,QAAQH,GACvB,yBAAKG,UAAU,SAASD,MCPfE,EAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,UAAcC,EAAxB,4CAClB,yBAAKJ,UAAU,QACb,yBAAKA,UAAU,SAASE,GAExB,4BACEG,KAAK,SACLL,UAAWG,EAAY,mBAAqB,SAC5CG,QAAS,SAACC,GACRA,EAAMC,OAAOC,UAAUC,OAAO,gBAIlC,kBAAC,EAASN,KCsDCO,EAlEH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,cAGDC,IAHC,2EAGhB,4BAAAC,EAAA,4DACoB,0CACZC,EAAY,0CAFpB,cAKIC,QALJ,SAOeC,MANK,2CADpB,0BAOiCC,OAPjC,SAQeD,MAAMF,GARrB,mBAQiCG,OARjC,sBAKYC,IALZ,gBAUMC,MAAK,SAACC,GACN,IAAMC,EAAkBD,EAAS,GAAGE,KAC9BC,EAAkBH,EAAS,GAAGE,KAE9BE,EAAgBH,EACnBI,KAAI,SAAAC,GAAI,kCAEFH,EAAgBI,MACjB,SAAA1B,GAAI,OAAIA,EAAK2B,KAAOF,EAAKG,WAExBH,MAEJI,QAAO,SAAAJ,GAAI,OACZA,EAAK3B,QACD2B,EAAK1B,YAAgC,IAAnB0B,EAAK1B,YACxB0B,EAAKhC,MACLgC,EAAK/B,UACL+B,EAAK9B,SAGZe,EAASa,MA9Bf,kDAiCIZ,IAjCJ,2DAHgB,sBAwChB,OACE,oCACE,sDAEEF,EAAMqB,QACN,4BACE7B,KAAK,SACLL,UAAU,WACVM,QAASS,GAHX,QASF,yBAAKf,UAAU,YACZa,EAAMe,KAAI,SAAAC,GAAI,OACb,kBAAC,EAAD,iBACMA,EADN,CAEEM,IAAKN,EAAKE,YC3DtBK,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.6b725972.chunk.js","sourcesContent":["import React from 'react';\nimport './User.css';\nimport PropTypes from 'prop-types';\n\nexport const User = ({ name, username, email }) => (\n  <div className=\"user\">\n    <div className=\"username\">\n      &apos;\n      {username}\n      &apos;\n    </div>\n    <div className=\"name\">{name}</div>\n    <div className=\"email\">{email}</div>\n  </div>\n);\n\nUser.propTypes = {\n  name: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport './Todo.css';\nimport PropTypes from 'prop-types';\nimport { User } from '../User/User';\n\nexport const Todo = ({ title, completed, ...user }) => (\n  <div className=\"todo\">\n    <div className=\"title\">{title}</div>\n\n    <button\n      type=\"button\"\n      className={completed ? 'status completed' : 'status'}\n      onClick={(event) => {\n        event.target.classList.toggle('completed');\n      }}\n    />\n\n    <User {...user} />\n  </div>\n);\n\nTodo.propTypes = {\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n","import React, { useState } from 'react';\nimport './App.scss';\n\nimport { Todo } from './components/Todo/Todo';\n\nconst App = () => {\n  const [todos, setTodos] = useState([]);\n\n  async function fetchTodos() {\n    const TODOS_URL = 'https://mate.academy/students-api/todos';\n    const USERS_URL = 'https://mate.academy/students-api/users';\n\n    try {\n      Promise.all(\n        [\n          (await fetch(TODOS_URL)).json(),\n          (await fetch(USERS_URL)).json(),\n        ],\n      ).then((response) => {\n        const todosFromServer = response[0].data;\n        const usersFromServer = response[1].data;\n\n        const preparedTodos = todosFromServer\n          .map(todo => (\n            {\n              ...usersFromServer.find(\n                user => user.id === todo.userId,\n              ),\n              ...todo,\n            }\n          )).filter(todo => (\n            todo.title\n            && (todo.completed || todo.completed === false)\n            && todo.name\n            && todo.username\n            && todo.email\n          ));\n\n        setTodos(preparedTodos);\n      });\n    } catch {\n      fetchTodos();\n    }\n  }\n\n  return (\n    <>\n      <h1>Dynamic list of todos</h1>\n\n      {!todos.length && (\n        <button\n          type=\"button\"\n          className=\"loadData\"\n          onClick={fetchTodos}\n        >\n          Load\n        </button>\n      )}\n\n      <div className=\"todolist\">\n        {todos.map(todo => (\n          <Todo\n            {...todo}\n            key={todo.id}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}